"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(exports,"__esModule",{value:!0});const child_process_1=require("child_process"),Terminal_1=__importDefault(require("@/Tools/Console/Terminal")),tsconfig_1=__importDefault(require("@/Models/Config/tsconfig")),chokidar_1=__importDefault(require("chokidar"));async function default_1({params:e}){const i=new Terminal_1["default"];var t=chokidar_1["default"].watch(tsconfig_1["default"].compilerOptions.baseUrl,{persistent:!0,ignoreInitial:!0,awaitWriteFinish:{stabilityThreshold:500}}),s=(i.clear["break"].light(`Watching ${tsconfig_1["default"].compilerOptions.baseUrl} `+e.join(" ")),(0,child_process_1.spawn)("ts-node index.js",e,{stdio:"inherit",shell:!0}));t.on("all",()=>{i.clear["break"].light(`Restart ${tsconfig_1["default"].compilerOptions.baseUrl} `+e.join(" ")),"win32"===process.platform?(0,child_process_1.spawnSync)("taskkill",["/pid",""+s.pid,"/f","/t"]):s.kill(),s=(0,child_process_1.spawn)("ts-node index.js",e,{stdio:"inherit",shell:!0})})}exports["default"]=default_1;