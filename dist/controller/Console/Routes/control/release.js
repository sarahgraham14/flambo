"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(exports,"__esModule",{value:!0});const package_1=__importDefault(require("@/Models/Config/package")),Terminal_1=__importDefault(require("@/Tools/Console/Terminal")),xaelion_1=__importDefault(require("@/Models/Config/xaelion")),Navigator_1=__importDefault(require("@/Tools/Navigator")),Json_1=__importDefault(require("@/Tools/Json")),path_1=require("path");async function default_1({flags:e}){var a=new Terminal_1["default"],t=(0,path_1.join)("release",package_1["default"].version);await new Navigator_1["default"](t,{force:!0}).clear(),await(new Navigator_1["default"]).ignore([...xaelion_1["default"].devPaths,...xaelion_1["default"].localPaths,...xaelion_1["default"].renewablePaths]).copy(t),new Json_1["default"]((0,path_1.join)(t,"package.json")).update(e=>({...e,devDependencies:undefined,scripts:e.proScripts,proScripts:undefined})),package_1["default"].dependencies&&e.withDeps&&a.execute("npm install --prefer-offline --no-package-lock",t),await new Navigator_1["default"](t).compress((0,path_1.join)("release",`${package_1["default"].name}@${package_1["default"].version}.zip`)),await new Navigator_1["default"](t)["delete"]()}exports["default"]=default_1;