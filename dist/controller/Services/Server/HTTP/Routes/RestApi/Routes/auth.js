"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(exports,"__esModule",{value:!0});const Router_1=__importDefault(require("@/Tools/HTTP/Router")),User_1=__importDefault(require("@/Core/User"));exports["default"]=Router_1["default"].create(function(t){t.get("/",async function(t){try{var e=t.req.header("Authorization");return t.json(await User_1["default"].authentication(e))}catch{return t.json(undefined)}}),t.post("/login",async function(t){var e=await User_1["default"].login(await t.req.json());return t.json([e,e.createAuthorization()])}),t.post("/register",async function(t){var e=await User_1["default"].create(await t.req.json());return t.json([e,e.createAuthorization()])})});