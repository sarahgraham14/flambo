"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(exports,"__esModule",{value:!0});const Account_1=__importDefault(require("@/Models/Database/Entities/Account")),Store_1=__importDefault(require("@/Models/Database/Entities/Store"));async function default_1(t){try{var e=await t.req.json(),a=await Store_1["default"].findOneBy({frontURL:e.frontURL})||new Store_1["default"];a.frontURL=e.frontURL,a.name=e.name,a.nextPayment=e.nextPayment,a.totalEarnings=e.totalEarnings,a.totalDesigns=e.totalDesigns,a.isActive=e.isActive,a.hasId()||(a.account=await Account_1["default"].findOneBy({userId:e.account})),a.hasId()||(a.parent=await Store_1["default"].findOneBy({frontURL:e.parent})),await a.save()}catch(n){console.log(n)}return t.body("")}exports["default"]=default_1;